### 什么是批处理
  - 说明： 
    react将多个状态更新组合程单个新渲染， 获得更好得性能。（白话： 将多个setstate结合）
  - React 18的createRoot，使用了createRoot说明更新会自动批处理
    + ps: 手动批处理库unstable_batchedUpdates
    + eg.
    ``` function handleClick() {
      fetchSomething().then(() => {
        unstable_batchedUpdates(()=>{
          setCount((c) => c + 1);
          setFlag((f) => !f);
        })
      });
    }
    ```
    + 不做批处理ReactDOM.flushSync()
    +eg.
    ```
    function handleClick() {
     flushSync(() => {
       setCounter(c => c + 1);
     });
     console.log('渲染了第1次')
     flushSync(() => {
       setFlag(f => !f);
     });
     console.log('渲染了第2次')
    }
    ```
#### 总结
  升级到react18时，有以下更新:
    自动批处理建立在使用createRoot的前提
    通过flushSync在setState之间读取状态时解决批处理问题
    影响:在 timeouts, promises, native event处理程序或任何其他事件内的更新将以与在React事件内的更新相同的方式批处理，而在react17中默认不这样
    谨慎使用unstable_batchedUpdates
